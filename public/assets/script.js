(function(){var t;t=function(t){return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",parseEm):t()},function(){var e,n,r,i,l,o,a,u,s,c,f,h,d,m;return n=2e3,e=56,a=document.createElement("div"),c=null,i=!1,h=0,o=.1,l=function(t){return function(){return t.classList.remove("chomp-on"),t.classList.remove("showing")}},d=function(t){return function(){return t.classList.add("showing"),setTimeout(l(t),n)}},u=function(t){return function(){return document.body.removeChild(t)}},m=function(t,e){var r,i,l,o;return o=e.indexOf("<main"),r=e.indexOf("</main>"),l=e.substr(o,r-o+7),a.innerHTML=l,i=a.firstChild,i.classList.add("chomp-on"),f(i),document.body.insertBefore(i,c),history.pushState(null,"",t.href),setTimeout(d(i),n/2)},s=function(t){return c=document.querySelector("main"),c.classList.add("chomp-away"),c.style.top=e+"px",setTimeout(function(){var e;return c.classList.add("hiding"),setTimeout(u(c),n),e=new XMLHttpRequest,e.open("GET",t.href,!0),e.onload=function(){return this.status>=200&&this.status<400?m(t,this.response):alert("Whoops. This link is broken. Sorry! Maybe let me know on twitter? @spiralganglion")},e.onerror=function(){return alert("Your internet is borked maybe. Sorry.")},e.send()})},r=function(t){var e;return t.setAttribute("chomped",!0),e=t.getAttribute("href"),null!=e&&"/"===e.charAt(0)&&"/"!==e.charAt(1)?t.addEventListener("click",function(e){return e.preventDefault(),s(t)}):void 0},f=function(t){var e,n,i,l,o;for(null==t&&(t=document),l=t.querySelectorAll("a"),o=[],e=0,n=l.length;n>e;e++)i=l[e],i.hasAttribute("chomped")?o.push(void 0):o.push(r(i));return o},t(f)}(),function(){var t,e,n,r,i,l,o,a,u,s,c,f,h,d;return u=document.querySelector("header"),i=document.querySelector("footer"),null!=u&&null!=i?(u.style.opacity=f=s=1,i.style.opacity=a=l=0,c=o=0,t=!1,e=1e-4,r=function(){var t;return t=1-document.body.scrollTop/u.offsetHeight,t=t*t*t,t=Math.min(1,Math.max(0,t)),f=t},n=function(){var t,e;return e=document.body.scrollTop+window.innerHeight,t=(e-document.body.scrollHeight+i.offsetHeight)/i.offsetHeight,t=t*t*t,t=Math.min(1,Math.max(0,t)),a=t},d=function(){return t=!1,c=(f-s)/5,Math.abs(c)>e&&(u.style.opacity=s+=c,h()),o=(a-l)/5,Math.abs(o)>e?(i.style.opacity=l+=o,h()):void 0},h=function(){return t?void 0:(t=!0,window.requestAnimationFrame(d))},window.addEventListener("scroll",function(){return r(),n(),h()})):void 0}(),function(){var e,n,r,i,l,o,a,u,s,c;return r=!1,r&&(e=performance.now()),n=2*Math.PI,s=4096,u=754873,l=function(){a=[];for(var t=0;s>=0?s>t:t>s;s>=0?t++:t--)a.push(t);return a}.apply(this),c=function(t,e,n){var r;return r=n[t],n[t]=n[e],n[e]=r},function(){var t,e,n,r,i;for(e=0,i=[],t=n=0,r=s;r>=0?r>n:n>r;t=r>=0?++n:--n)e=(e+u+l[t])%s,i.push(c(t,e,l));return i}(),o=function(){var t,i,o,a,u,c,f,h,d,m,y,b,g,p,v,S,w,M,P,L,A,T,q,E,H,x,k,C,O,R,D,I,W,z,B,F,G,X;for(a=document.querySelectorAll("canvas"),g=0,b=a.length;b>g;g++){for(o=a[g],u=o.getContext("2d"),F=o.width=2*parseInt(document.body.offsetWidth),h=o.height=2*o.getAttribute("set-height"),u.fillStyle="#2C0028",u.fillRect(0,0,F,h),r&&(t=performance.now()),S=F/100,d=p=0,q=S;q>=0?q>=p:p>=q;d=q>=0?++p:--p)m=d/S,c=1-m,y=l[d%s],L=l[y],i=l[L],G=l[i],X=l[G],T=l[X],R=l[T],D=l[R],G=G*F/s|0,X=X*h/s|0,T=T/s*3+1,y=y/s*20+80,L=L/s*Math.min(10*c,.3)+.3,i=i/s*120+200,R=(R/s*2-1)*Math.abs(T),D=(D/s*2-1)*Math.abs(T),u.beginPath(),u.fillStyle="hsla("+i+", 40%, "+y+"%, "+L+")",u.arc(G,X,T,0,n),u.fill(),l[d%s]>s/2&&(u.beginPath(),u.fillStyle="hsla(0, 0%, 100%, "+4*L+")",u.arc(G+R,X+D,2,0,n),u.fill());for(w=F/20,d=A=0,E=w;E>=0?E>=A:A>=E;d=E>=0?++A:--A)m=d/w,c=1-m,L=l[d%s],G=l[L],X=l[G],T=l[X],y=l[T],f=l[y],G=G*F/s|0,X=X*h/s|0,T=T/s*40*c+4,y=y/s*40*c,L=L/s*.3*m+.05,f=f/s*20+260,u.beginPath(),u.fillStyle="hsla("+f+", 100%, "+y+"%, "+L+")",u.arc(G,X,T,0,n),u.fill(),u.beginPath(),u.fillStyle="hsla("+f+", 100%, "+y+"%, "+L/2+")",u.arc(G,X,2*T,0,n),u.fill(),u.beginPath(),u.fillStyle="hsla("+f+", 100%, "+y+"%, "+L/4+")",u.arc(G,X,3*T,0,n),u.fill();for(M=F/20,d=O=0,H=M;H>=0?H>=O:O>=H;d=H>=0?++O:--O)m=d/M,c=1-m,G=l[d%s],X=l[G],T=l[X],y=l[T],L=l[y],G=G*F/s|0,X=X*h/s|0,T=T/s*200*c+2,y=y/s*12*m+7,L=L/s*.1*c+.01,u.beginPath(),u.fillStyle="hsla(290, 100%, "+y+"%, "+L+")",u.arc(G,X,T,0,n),u.fill();for(w=F/50,d=I=0,x=w;x>=0?x>=I:I>=x;d=x>=0?++I:--I)m=d/w,c=1-m,L=l[d%s],G=l[L],X=l[G],T=l[X],y=l[T],f=l[y],G=G*F/s|0,X=X*h/s|0,T=T/s*10*c+4,y=y/s*50*c,L=L/s*.3*m+.05,f=f/s*30+320,u.beginPath(),u.fillStyle="hsla("+f+", 100%, "+y+"%, "+L+")",u.arc(G,X,T,0,n),u.fill(),u.beginPath(),u.fillStyle="hsla("+f+", 100%, "+y+"%, "+L/2+")",u.arc(G,X,2*T,0,n),u.fill(),u.beginPath(),u.fillStyle="hsla("+f+", 100%, "+y+"%, "+L/4+")",u.arc(G,X,3*T,0,n),u.fill();for(v=F/10,d=W=0,k=v;k>=0?k>=W:W>=k;d=k>=0?++W:--W)m=d/v,c=1-m,X=l[d%s],B=l[X],f=l[B],y=l[f],L=l[y],i=l[L],G=l[i],G=G*F/s|0,X=X*h/s|0,B=B/s*3+1,f=f/s*3+1,y=y/s*30+30,L=L/s*10*c,i=i/s*60+260,u.fillStyle="hsla("+i+", 40%, "+y+"%, "+L+")",u.fillRect(G,X,B,f);for(P=F/4,d=z=0,C=P;C>=0?C>=z:z>=C;d=C>=0?++z:--z)m=d/P,c=1-m,T=l[d%s],y=l[T],L=l[y],i=l[L],G=l[i],X=l[G],G=G*F/s|0,X=X*h/s|0,T=T/s*2+.5,y=y/s*50+30,L=L/s*10*c,i=i/s*20+280,u.beginPath(),u.fillStyle="hsla("+i+", 30%, "+y+"%, "+L+")",u.arc(G,X,T,0,n),u.fill(),T>2&&(u.beginPath(),u.fillStyle="hsla("+i+", 10%, "+(y+20)+"%, "+2*L+")",u.arc(G,X,1,0,n),u.fill(),u.beginPath(),u.fillStyle="hsla(265, 70%, "+2*y/3+"%, 0.1)",u.arc(G,X,T*T,0,n),u.fill(),u.beginPath(),u.fillStyle="hsla(265, 70%, "+y/2+"%, 0.05)",u.arc(G,X,T*T*T,0,n),u.fill())}return r?console.log(Math.ceil(performance.now()-t),Math.ceil(performance.now()-e)):void 0},t(o),window.addEventListener("resize",o)}()}).call(this);