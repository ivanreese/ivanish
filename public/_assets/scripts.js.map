{"version":3,"sources":["ready.coffee","source/script/fade-header.coffee","source/script/stars.coffee"],"names":[],"mappings":"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","file":"scripts.js","sourceRoot":"/source/","sourcesContent":["ready = (fn)->\n  if document.readyState is \"loading\"\n    document.addEventListener \"DOMContentLoaded\", parseEm\n  else\n    fn()\n","do ()->\n  header = document.querySelector(\"header\")\n  return unless header?\n  header.style.opacity = headerTarget = headerCurrent = 1\n  headerDelta = 0\n  dirty = false\n  epsilon = 0.0001\n\n  fadeHeader = ()->\n    opacity = 1 - document.body.scrollTop / header.offsetHeight * 1.2\n    opacity = opacity * opacity * opacity\n    opacity = Math.min(1, Math.max(0, opacity))\n    headerTarget = opacity\n\n  update = ()->\n    dirty = false\n    \n    headerDelta = (headerTarget - headerCurrent)/5\n    if Math.abs(headerDelta) > epsilon\n      header.style.opacity = headerCurrent = headerCurrent + headerDelta\n      requestUpdate()\n  \n  requestUpdate = ()->\n    unless dirty\n      dirty = true\n      window.requestAnimationFrame(update)\n  \n  window.addEventListener \"scroll\", ()->\n    fadeHeader()\n    requestUpdate()\n","do ()->\n  debug = false\n  \n  OUTER = performance.now() if debug\n  TAU = Math.PI * 2\n  size = 4096\n  half_size = size/2\n  seed = 754874\n  randTable = [0...size]\n  \n  swap = (i, j, p)->\n    tmp = p[i]\n    p[i] = p[j]\n    p[j] = tmp\n  \n  # Initialize the randomness table\n  do ()->\n    j = 0\n    for i in [0...size]\n      j = (j + seed + randTable[i]) % size\n      swap(i, j, randTable)\n  \n  redraw = ()->\n    canvases = document.querySelectorAll \"canvas\"\n    for canvas in canvases\n      # Setup & Locals\n      context = canvas.getContext \"2d\"\n      width = canvas.width = parseInt(canvas.parentNode.offsetWidth) * 2\n      height = canvas.height = parseInt(canvas.parentNode.offsetHeight) * 2\n      \n      # DRAW BACKGROUND\n      # context.fillStyle = \"white\"\n      context.fillStyle = \"transparent\"\n      context.fillRect(0, 0, width, height)\n      \n      # DISTRIBUTION CHECK\n      # context.fillStyle = \"black\"\n      # for n, i in randTable\n      #   context.fillRect(i/size * width, height - n/size * height, 2, 2)\n      \n      INNER = performance.now() if debug\n      \n      # Background Smudges\n      # nBackgroundSmudges = width/20\n      # for i in [0..nBackgroundSmudges]\n      #   increase = i/nBackgroundSmudges # get bigger as i increases\n      #   decrease = (1 - increase) # get smaller as i increases\n      #   w = randTable[i % size]\n      #   h = randTable[w]\n      #   y = randTable[h]\n      #   l = randTable[y]\n      #   o = randTable[l]\n      #   c = randTable[o]\n      #   x = randTable[c]\n      #   x = (x * width  / size - 20)|0\n      #   y = (y * height / size - 20)|0\n      #   w = w / size * 100 + 20\n      #   h = h / size * 100 + 20\n      #   l = l / size * 8 + 10\n      #   o = o / size * Math.min(5 * decrease, 0.5)\n      #   c = c / size * 40 + 280\n      #   context.fillStyle = \"hsla(#{c}, 30%, #{l}%, #{o})\"\n      #   context.fillRect(x, y, w, h)\n      \n\n      # Big Star Color\n      nBigStars = width/100\n      for i in [0..nBigStars]\n        increase = i/nBigStars # get bigger as i increases\n        decrease = (1 - increase) # get smaller as i increases\n        x = randTable[i % size]\n        y = randTable[x]\n        r = randTable[y]\n        l = randTable[r]\n        c = randTable[l]\n        o = randTable[c]\n        x = (x * width / size)|0\n        y = (y * height / size)|0\n        r = r / size * 3 + 1\n        l = l / size * 20 + 20\n        o = o / size * 10 * decrease + 0.3\n        c = c / size * 120 + 200\n        context.beginPath()\n        context.fillStyle = \"hsla(#{c}, 40%, #{l}%, #{o})\"\n        context.arc(x, y, r, 0, TAU)\n        context.fill()\n\n\n      # Big Star Glow\n      nBigStars = width/200\n      for i in [0..nBigStars]\n        x = randTable[i % size]\n        y = randTable[x]\n        r = randTable[y]\n        sx = randTable[r]\n        sy = randTable[sx]\n        x = (x * width / size)|0\n        y = (y * height / size)|0\n        r = r / size * 2 + 0.5\n        sx = (sx / size * 2 - 0.5)\n        sy = (sy / size * 2 - 0.5)\n        context.beginPath()\n        context.fillStyle = \"hsla(0, 0%, 100%, 1)\"\n        context.arc(x + sx, y + sy, r, 0, TAU)\n        context.fill()\n\n      \n      # Blue Blobs\n      nBlueBlobs = width/20\n      for i in [0..nBlueBlobs]\n        increase = i/nBlueBlobs # get bigger as i increases\n        decrease = (1 - increase) # get smaller as i increases\n        o = randTable[(i + 123) % size]\n        x = randTable[o]\n        y = randTable[x]\n        r = randTable[y]\n        l = randTable[r]\n        h = randTable[l]\n        x = (x * width / size)|0\n        y = (y * height / size)|0\n        r = r / size * 40 * decrease + 4\n        s = l / size * 50 + 30\n        l = l / size * 20 * decrease + 10\n        o = o / size * 0.3 * increase + 0.05\n        h = h / size * 20 + 260\n        context.beginPath()\n        context.fillStyle = \"hsla(#{h}, #{s}%, #{l}%, #{o})\"\n        context.arc(x, y, r, 0, TAU)\n        context.fill()\n        context.beginPath()\n        context.fillStyle = \"hsla(#{h}, #{s}%, #{l}%, #{o/2})\"\n        context.arc(x, y, r * 2, 0, TAU)\n        context.fill()\n        context.beginPath()\n        context.fillStyle = \"hsla(#{h}, #{s}%, #{l}%, #{o/4})\"\n        context.arc(x, y, r * 3, 0, TAU)\n        context.fill()\n            \n      # Purple Blobs\n      nPurpBlobs = width/20\n      for i in [0..nPurpBlobs]\n        increase = i/nPurpBlobs # get bigger as i increases\n        decrease = (1 - increase) # get smaller as i increases\n        x = randTable[(i + 1234) % size]\n        y = randTable[x]\n        r = randTable[y]\n        l = randTable[r]\n        o = randTable[l]\n        x = (x * width / size)|0\n        y = (y * height / size)|0\n        r = r / size * 200 * decrease + 2\n        l = l / size * 12 * increase + 7\n        o = o / size * 0.1 * decrease + 0.01\n        context.beginPath()\n        context.fillStyle = \"hsla(290, 100%, #{l}%, #{o})\"\n        context.arc(x, y, r, 0, TAU)\n        context.fill()\n      \n      # Red Blobs\n      nRedBlobs = width/50\n      for i in [0..nRedBlobs]\n        increase = i/nRedBlobs # get bigger as i increases\n        decrease = (1 - increase) # get smaller as i increases\n        o = randTable[(12345 + i) % size]\n        x = randTable[o]\n        y = randTable[x]\n        r = randTable[y]\n        l = randTable[r]\n        h = randTable[l]\n        x = (x * width / size)|0\n        y = (y * height / size)|0\n        r = r / size * 10 * decrease + 20\n        l = l / size * 20 * decrease + 5\n        o = o / size * 0.3 * increase + 0.05\n        h = h / size * 30 + 350\n        context.beginPath()\n        context.fillStyle = \"hsla(#{h}, 100%, #{l}%, #{o})\"\n        context.arc(x, y, r, 0, TAU)\n        context.fill()\n        context.beginPath()\n        context.fillStyle = \"hsla(#{h}, 100%, #{l}%, #{o/2})\"\n        context.arc(x, y, r * 2, 0, TAU)\n        context.fill()\n        context.beginPath()\n        context.fillStyle = \"hsla(#{h}, 100%, #{l}%, #{o/4})\"\n        context.arc(x, y, r * 3, 0, TAU)\n        context.fill()\n      \n      \n      # Small Square Stars\n      nBSmallSquareStars = width/10\n      for i in [0..nBSmallSquareStars]\n        y = randTable[(i + 234) % size]\n        w = randTable[y]\n        h = randTable[w]\n        l = randTable[h]\n        o = randTable[l]\n        c = randTable[o]\n        x = randTable[c]\n        x = (x * width / size)|0\n        y = (y * height / size)|0\n        w = w / size * 2 + 1\n        h = h / size * 2 + 1\n        l = l / size * 30 + 10\n        o = o / size * 0.5 + 0.2\n        c = c / size * 40 + 240\n        context.fillStyle = \"hsla(#{c}, 30%, #{l}%, #{o})\"\n        context.fillRect(x, y, w, h)\n\n      \n      # Small Round Stars\n      nSmallRoundStars = width/20\n      for i in [0..nSmallRoundStars]\n        r = randTable[(i + 345) % size]\n        l = randTable[r]\n        o = randTable[l]\n        c = randTable[o]\n        x = randTable[c]\n        y = randTable[x]\n        x = (x * width / size)|0\n        y = (y * height / size)|0\n        r = r / size * 2 + 1\n        l = l / size * 40 + 10\n        o = o / size * 0.4 + 0.2\n        c = c / size * 100 + 220\n        context.beginPath()\n        context.fillStyle = \"hsla(#{c}, 30%, #{l}%, #{o})\"\n        context.arc(x, y, r, 0, TAU)\n        context.fill()\n      \n        context.beginPath()\n        context.fillStyle = \"hsla(#{c}, 30%, #{l + 40}%, #{o * 2})\"\n        context.arc(x, y, 1, 0, TAU)\n        context.fill()\n      \n        context.beginPath()\n        context.fillStyle = \"hsla(#{c}, 70%, #{l*2/3}%, 0.1)\"\n        context.arc(x, y, r * r, 0, TAU)\n        context.fill()\n      \n        context.beginPath()\n        context.fillStyle = \"hsla(#{c}, 70%, #{l/2}%, 0.05)\"\n        context.arc(x, y, r * r * r, 0, TAU)\n        context.fill()\n      \n      \n      # Pixel Stars\n      pixelStars = width/6\n      for i in [0..pixelStars]\n        x = randTable[(i + 5432) % size]\n        y = randTable[x]\n        o = randTable[y]\n        x = (x * width / size)|0\n        y = (y * height / size)|0\n        o = o / size * 0.6 + 0.4\n        context.beginPath()\n        context.fillStyle = \"hsla(300, 30%, 50%, #{o})\"\n        # context.arc(x, y, 1, 0, TAU)\n        context.fillRect(x, y, 1, 1)\n        context.fill()\n        \n    \n    if debug\n      console.log Math.ceil(performance.now() - INNER), Math.ceil(performance.now() - OUTER)\n  \n  ready(redraw)\n  window.addEventListener \"resize\", redraw\n"]}